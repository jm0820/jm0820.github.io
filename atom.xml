<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://jm0820.github.io</id>
    <title>å°ç‹åŒå­¦</title>
    <updated>2020-03-19T15:46:56.977Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://jm0820.github.io"/>
    <link rel="self" href="https://jm0820.github.io/atom.xml"/>
    <subtitle>æ°¸è¿œåºŸç‰©ï¼Œæ°¸è¿œæ··åƒç­‰æ­»</subtitle>
    <logo>https://jm0820.github.io/images/avatar.png</logo>
    <icon>https://jm0820.github.io/favicon.ico</icon>
    <rights>All rights reserved 2020, å°ç‹åŒå­¦</rights>
    <entry>
        <title type="html"><![CDATA[Servlet ]]></title>
        <id>https://jm0820.github.io/post/servlet/</id>
        <link href="https://jm0820.github.io/post/servlet/">
        </link>
        <updated>2020-03-19T15:40:33.000Z</updated>
        <content type="html"><![CDATA[<p>[TOC]</p>
<h1 id="ç®€ä»‹">ç®€ä»‹</h1>
<h3 id="ä»€ä¹ˆæ˜¯servlet">ä»€ä¹ˆæ˜¯Servlet</h3>
<p>Java Servlet æ˜¯è¿è¡Œåœ¨ Web æœåŠ¡å™¨æˆ–åº”ç”¨æœåŠ¡å™¨ä¸Šçš„ç¨‹åºï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªjava  ç±»ï¼Œå®ƒæ˜¯ä½œä¸ºæ¥è‡ª Web æµè§ˆå™¨æˆ–å…¶ä»– HTTP å®¢æˆ·ç«¯çš„è¯·æ±‚å’Œ HTTP æœåŠ¡å™¨ä¸Šçš„æ•°æ®åº“æˆ–åº”ç”¨ç¨‹åºä¹‹é—´çš„ä¸­é—´å±‚ã€‚</p>
<p>ä½¿ç”¨ Servletï¼Œæ‚¨å¯ä»¥æ”¶é›†æ¥è‡ªç½‘é¡µè¡¨å•çš„ç”¨æˆ·è¾“å…¥ï¼Œå‘ˆç°æ¥è‡ªæ•°æ®åº“æˆ–è€…å…¶ä»–æºçš„è®°å½•ï¼Œè¿˜å¯ä»¥åŠ¨æ€åˆ›å»ºç½‘é¡µã€‚</p>
<h3 id="servlet-æ¶æ„">Servlet æ¶æ„</h3>
<ul>
<li>ç¬¬ä¸€ä¸ªåˆ°è¾¾æœåŠ¡å™¨çš„ HTTP è¯·æ±‚è¢«å§”æ´¾åˆ° Servlet å®¹å™¨ã€‚</li>
<li>Servlet å®¹å™¨åœ¨è°ƒç”¨ service() æ–¹æ³•ä¹‹å‰åŠ è½½ Servletã€‚</li>
<li>ç„¶å Servlet å®¹å™¨å¤„ç†ç”±å¤šä¸ªçº¿ç¨‹äº§ç”Ÿçš„å¤šä¸ªè¯·æ±‚ï¼Œæ¯ä¸ªçº¿ç¨‹æ‰§è¡Œä¸€ä¸ªå•ä¸€çš„ Servlet å®ä¾‹çš„ service() æ–¹æ³•ã€‚<br>
<img src="https://img-blog.csdnimg.cn/20200319220625302.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0FseXNvbl9qbQ==,size_16,color_FFFFFF,t_70" alt="servlet æ¶æ„å›¾" loading="lazy"></li>
</ul>
<h3 id="servlet-ä»»åŠ¡">Servlet ä»»åŠ¡</h3>
<ul>
<li>è¯»å–å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰å‘é€çš„æ˜¾å¼çš„æ•°æ®ã€‚è¿™åŒ…æ‹¬ç½‘é¡µä¸Šçš„ HTML è¡¨å•ï¼Œæˆ–è€…ä¹Ÿå¯ä»¥æ˜¯æ¥è‡ª applet æˆ–è‡ªå®šä¹‰çš„ HTTP å®¢æˆ·ç«¯ç¨‹åºçš„è¡¨å•ã€‚</li>
<li>è¯»å–å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰å‘é€çš„éšå¼çš„ HTTP è¯·æ±‚æ•°æ®ã€‚è¿™åŒ…æ‹¬ cookiesã€åª’ä½“ç±»å‹å’Œæµè§ˆå™¨èƒ½ç†è§£çš„å‹ç¼©æ ¼å¼ç­‰ç­‰ã€‚</li>
<li>å¤„ç†æ•°æ®å¹¶ç”Ÿæˆç»“æœã€‚è¿™ä¸ªè¿‡ç¨‹å¯èƒ½éœ€è¦è®¿é—®æ•°æ®åº“ï¼Œæ‰§è¡Œ RMI æˆ– CORBA è°ƒç”¨ï¼Œè°ƒç”¨ Web æœåŠ¡ï¼Œæˆ–è€…ç›´æ¥è®¡ç®—å¾—å‡ºå¯¹åº”çš„å“åº”ã€‚</li>
<li>å‘é€æ˜¾å¼çš„æ•°æ®ï¼ˆå³æ–‡æ¡£ï¼‰åˆ°å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰ã€‚è¯¥æ–‡æ¡£çš„æ ¼å¼å¯ä»¥æ˜¯å¤šç§å¤šæ ·çš„ï¼ŒåŒ…æ‹¬æ–‡æœ¬æ–‡ä»¶ï¼ˆHTML æˆ– XMLï¼‰ã€äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆGIF å›¾åƒï¼‰ã€Excel ç­‰ã€‚</li>
<li>å‘é€éšå¼çš„ HTTP å“åº”åˆ°å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰ã€‚è¿™åŒ…æ‹¬å‘Šè¯‰æµè§ˆå™¨æˆ–å…¶ä»–å®¢æˆ·ç«¯è¢«è¿”å›çš„æ–‡æ¡£ç±»å‹ï¼ˆä¾‹å¦‚ HTMLï¼‰ï¼Œè®¾ç½® cookies å’Œç¼“å­˜å‚æ•°ï¼Œä»¥åŠå…¶ä»–ç±»ä¼¼çš„ä»»åŠ¡ã€‚</li>
</ul>
<h3 id="ç”Ÿå‘½å‘¨æœŸ">ç”Ÿå‘½å‘¨æœŸ</h3>
<p>Servlet çš„ç”Ÿå‘½å‘¨æœŸæ˜¯ç”±Web å®¹å™¨æ¥ç®¡ç†çš„ã€‚</p>
<ul>
<li>Servlet é€šè¿‡è°ƒç”¨ init () æ–¹æ³•è¿›è¡Œåˆå§‹åŒ–ã€‚</li>
</ul>
<pre><code>public void init(ServletConfig servletConfig)
</code></pre>
<p>åªè¢«è°ƒç”¨ä¸€æ¬¡ï¼Œåœ¨åˆ›å»ºå¥½å®ä¾‹åç«‹å³è¢«è°ƒç”¨ï¼Œç”¨äºåˆå§‹åŒ–å½“å‰Servlet</p>
<ul>
<li>Servlet è°ƒç”¨ service() æ–¹æ³•æ¥å¤„ç†å®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚</li>
</ul>
<pre><code>public void service(ServletRequest servletRequest, ServletResponse servletResponse)
</code></pre>
<p>ä¸€èˆ¬æ¥è¯´service æ–¹æ³•å¤„ç†å…·ä½“ä¸šåŠ¡çš„ï¼Œæ¯æ¬¡è®¿é—®éƒ½ä¼šè¢«è°ƒç”¨ï¼Œæ˜¯å¤šçº¿ç¨‹çš„ã€‚</p>
<ul>
<li>Servlet é€šè¿‡è°ƒç”¨ destroy() æ–¹æ³•ç»ˆæ­¢ï¼ˆç»“æŸï¼‰ã€‚</li>
</ul>
<pre><code>public void destroy()
</code></pre>
<p>destory æ˜¯é”€æ¯æ–¹æ³•ï¼Œæ¯æ¬¡å½“Servlet æœåŠ¡å™¨å…³é—­æ—¶è°ƒç”¨ã€‚</p>
<ul>
<li>æœ€åï¼ŒServlet æ˜¯ç”± JVM çš„åƒåœ¾å›æ”¶å™¨è¿›è¡Œåƒåœ¾å›æ”¶çš„ã€‚</li>
</ul>
<h3 id="servlet-å®¹å™¨ç›¸åº”å®¢æˆ·è¯·æ±‚çš„è¿‡ç¨‹">Servlet å®¹å™¨ç›¸åº”å®¢æˆ·è¯·æ±‚çš„è¿‡ç¨‹</h3>
<ol>
<li>Servlet å¼•æ“æ£€æŸ¥æ˜¯å¦å·²ç»è£…è½½å¹¶åˆ›å»ºäº†è¯¥Servlet çš„å®ä¾‹å¯¹è±¡ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™æ‰§è¡Œç¬¬â‘£æ­¥ï¼Œå¦åˆ™æ‰§è¡Œç¬¬â‘¡æ­¥ã€‚</li>
<li>è£…è½½å¹¶åˆ›å»ºè¯¥Servlet çš„ä¸€ä¸ªå®ä¾‹å¯¹è±¡ï¼šè°ƒç”¨è¯¥Servlet çš„æ„é€ å™¨ã€‚</li>
<li>åˆ›å»ºä¸€ä¸ªç”¨äºå°è£…è¯·æ±‚çš„ServletRequest å¯¹è±¡å’Œä¸€ä¸ªä»£è¡¨å“åº”æ¶ˆæ¯çš„ServletReqsponseå¯¹è±¡ï¼Œç„¶åè°ƒç”¨Servletçš„service()æ–¹æ³•å¹¶å°†è¯·æ±‚å’Œå“åº”å¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’è¿›å»ã€‚</li>
<li>WEBåº”ç”¨ç¨‹åºè¢«åœæ­¢æˆ–é‡æ–°å¯åŠ¨ä¹‹å‰ï¼ŒServletå¼•æ“å°†å¸è½½Servlet,å¹¶åœ¨å¸è½½ä¹‹å‰è°ƒç”¨Servlet çš„destory()æ–¹æ³•ã€‚</li>
</ol>
<h1 id="servlet-ä½¿ç”¨">Servlet ä½¿ç”¨</h1>
<p>å‡†å¤‡æ¡ä»¶ï¼š<br>
å¼•å…¥servlet çš„jar åŒ…</p>
<pre><code>&lt;dependency&gt;
      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;
      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;
      &lt;version&gt;3.1.0&lt;/version&gt;
      &lt;scope&gt;provided&lt;/scope&gt;
&lt;/dependency&gt;

</code></pre>
<p><strong>æ–°å»ºä¸€ä¸ªServlet</strong><br>
æœ‰ä¸‰ç§æ–°å»ºServlet çš„æ–¹æ³•</p>
<ul>
<li>å®ç° Servlet æ¥å£</li>
<li>ç»§æ‰¿ GenericServletæŠ½è±¡ç±»</li>
<li>ç»§æ‰¿ HttpSerevlet ç±»ï¼ˆå¼€å‘ä¸­å¸¸ç”¨çš„æ–¹æ³•ï¼‰<br>
è¿™é‡Œå®ç° Servlet æ¥å£æ¥æ–°å»ºä¸€ä¸ªServlet.</li>
</ul>
<pre><code>public class HelloServlet implements Servlet {

    @Override
    public void init(ServletConfig servletConfig) throws ServletException {
        System.out.println(&quot;init&quot;);
    }

    /**
     * ServletConfig :å°è£…äº†Servlet çš„é…ç½®ä¿¡æ¯ï¼Œå¹¶ä¸”å¯ä»¥è·å–ServleteContext å¯¹è±¡
     *
     */
    @Override
    public ServletConfig getServletConfig() {
        System.out.println(&quot;getServletConfig&quot;);
        return null;
    }

    @Override
    public void service(ServletRequest servletRequest, ServletResponse servletResponse) throws ServletException, IOException {
        System.out.println(&quot;service&quot;);
    }

    @Override
    public String getServletInfo() {
        System.out.println(&quot;getServletInfo&quot;);
        return null;
    }

    @Override
    public void destroy() {
        System.out.println(&quot;destroy&quot;);
    }

    public HelloServlet() {
        System.out.println(&quot;HelloServlet constuct&quot;);
    }
}
</code></pre>
<p><strong>æ³¨å†ŒServlet</strong><br>
Servlet ç¨‹åºå¿…é¡»åœ¨WEBåº”ç”¨ç¨‹åºçš„web.xmlæ–‡ä»¶ä¸­è¿›è¡Œæ³¨å†Œå’Œæ˜ å°„å…¶è®¿é—®è·¯å¾„ï¼Œæ‰å¯ä»¥è¢«Servlet å¼•æ“åŠ è½½å’Œè¢«å¤–ç•Œè®¿é—®</p>
<pre><code>&lt;!--é…ç½®å’Œæ˜ å°„Servlet--&gt;
  &lt;servlet&gt;
    &lt;!--Servlet æ³¨å†Œçš„åå­—--&gt;
    &lt;servlet-name&gt;Hello&lt;/servlet-name&gt;
    &lt;!--Servlet çš„å…¨ç±»å--&gt;
    &lt;servlet-class&gt;com.atguigu.HelloServlet&lt;/servlet-class&gt;
    &lt;!--å¯ä»¥æŒ‡å®šservletè¢«åˆ›å»ºçš„æ—¶æœº--&gt;
    &lt;!--&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;--&gt;
  &lt;/servlet&gt;

  &lt;servlet-mapping&gt;
    &lt;!--éœ€è¦å’ŒæŸä¸ªServlet èŠ‚ç‚¹çš„Servlet-nameå­èŠ‚ç‚¹ä¸€è‡´--&gt;
    &lt;servlet-name&gt;Hello&lt;/servlet-name&gt;
    &lt;!--æ˜ å°„å…·ä½“çš„è®¿é—®è·¯å¾„ï¼Œ/ä»£è¡¨å½“å‰webåº”ç”¨çš„æ ¹ç›®å½•--&gt;
    &lt;url-pattern&gt;/hello&lt;/url-pattern&gt;
  &lt;/servlet-mapping&gt;
</code></pre>
<p>Servlet æ˜ å°„ç»†èŠ‚</p>
<ul>
<li>ä¸€ä¸ªServlet å¯ä»¥è¢«æ˜ å°„åˆ°å¤šä¸ªurl,å³å¤šä¸ª<servlet-mapping>å…ƒç´ çš„<servlet-name>å­å…ƒç´ çš„è®¾ç½®å€¼å¯ä»¥æ˜¯åŒä¸€ä¸ªServlet çš„æ³¨å†Œå</li>
</ul>
<pre><code>&lt;servlet-mapping&gt;
    &lt;servlet-name&gt;Hello&lt;/servlet-name&gt;
    &lt;url-pattern&gt;/hello&lt;/url-pattern&gt;
  &lt;/servlet-mapping&gt;
  &lt;servlet-mapping&gt;
    &lt;servlet-name&gt;Hello&lt;/servlet-name&gt;
    &lt;!--æ˜ å°„å…·ä½“çš„è®¿é—®è·¯å¾„
    &lt;url-pattern&gt;/hello2&lt;/url-pattern&gt;
  &lt;/servlet-mapping&gt;
</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­è®¿é—®hello å’Œhello2 éƒ½è°ƒç”¨çš„æ˜¯ hello è¿™ä¸ªservlet</p>
<ul>
<li>åœ¨Servlet æ˜ å°„åˆ°çš„URLä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨<em>é€šé…ç¬¦ï¼Œä½†æ˜¯åªèƒ½æœ‰ä¸¤ç§å›ºå®šçš„æ ¼å¼ï¼šä¸€ç§æ ¼å¼æ˜¯â€œ</em>.æ‰©å±•åâ€ï¼Œå¦ä¸€ç§æ ¼å¼æ˜¯ä»¥æ”¿æ­£æ–œæ /å¼€å¤´å¹¶ä»¥â€œ/*â€ç»“å°¾</li>
</ul>
<pre><code>*.html   *.do   *.jsp
/action/*   ä»¥/action/ å¼€å¤´çš„è¯·æ±‚éƒ½å¯ä»¥è®¿é—®
</code></pre>
<p>æ–œæ å’Œæ‰©å±•åä¸èƒ½åŒæ—¶å­˜åœ¨,ä¸‹é¢è¿™ä¸ªä¾‹å­å°±æ˜¯ä¸åˆæ³•çš„</p>
<pre><code>/.html
</code></pre>
<p>æ³¨å†ŒServlet æœ‰å¦å¤–ä¸€ç§æ–¹å¼ï¼Œé™¤äº†web.xmlé…ç½®ï¼Œè¿˜å¯ä»¥ä½¿ç”¨æ³¨è§£ã€‚</p>
<pre><code>@WebServlet(&quot;/hello&quot;)
</code></pre>
<p>åœ¨å¾…æ³¨å†Œçš„ServletåŠ ä¸Šæ³¨è§£ï¼Œé€šè¿‡è®¿é—®æ³¨è§£é‡Œçš„urlæ¥è®¿é—® Servlet</p>
<p><strong>åœ¨tomcat æœåŠ¡å™¨ä¸­è¿è¡Œçš„ç»“æœ</strong></p>
<pre><code>HelloServlet constuct
init
service
destroy
</code></pre>
<h1 id="servlet-çš„å››å¤§åŸŸå¯¹è±¡">Servlet çš„å››å¤§åŸŸå¯¹è±¡</h1>
<p>servlet æœ‰ä¹ä¸ªå†…ç½®å¯¹è±¡ï¼Œåˆ†åˆ«ä¸ºï¼š<strong>pageContextã€ServletRequestã€HttpSessionã€ServletContext</strong></p>
<p>æ‰€æœ‰åŸŸå¯¹è±¡éƒ½æ˜¯æœ‰å­˜å–æ•°æ®çš„åŠŸèƒ½ï¼Œå› ä¸ºåŸŸå¯¹è±¡å†…éƒ¨æœ‰ä¸€ä¸ªMapï¼Œç”¨æ¥å­˜å‚¨æ•°æ®ï¼Œä¸‹é¢æ˜¯ServletContextå¯¹è±¡ç”¨æ¥æ“ä½œæ•°æ®çš„æ–¹æ³•ï¼š</p>
<table>
<thead>
<tr>
<th style="text-align:center">æ–¹æ³•</th>
<th style="text-align:center">ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">void setAttribute(String name,Object val)</td>
<td style="text-align:center">ç”¨æ¥å­˜å‚¨ä¸€ä¸ªå¯¹è±¡ï¼Œä¹Ÿå¯ä»¥æˆä¸ºå­˜å‚¨ä¸€ä¸ªåŸŸï¼Œå‚æ•°åˆ†åˆ«ä¸ºåŸŸçš„å±æ€§åå’Œå±æ€§å€¼ï¼Œå¦‚æœå¤šæ¬¡è°ƒç”¨è¯¥æ–¹æ³•ï¼Œå¹¶ä¸”ä½¿ç”¨ç›¸åŒçš„nameï¼Œé‚£ä¹ˆå°±ä¼šè¦†ç›–ä¸Šä¸€æ¬¡çš„å€¼ï¼Œè¿™ä¸€ç‰¹æ€§ä¸Mapç›¸ä¼¼</td>
</tr>
<tr>
<td style="text-align:center">Object getAttribute(String     name)</td>
<td style="text-align:center">ç”¨æ¥è·å–ServletContextä¸­çš„æ•°æ®ï¼Œå½“å‰åœ¨è·å–ä¹‹å‰éœ€è¦å…ˆå­˜å‚¨ã€‚</td>
</tr>
<tr>
<td style="text-align:center">void removeAttribute(String name)</td>
<td style="text-align:center">ç”¨æ¥ç§»é™¤ServletContextä¸­çš„åŸŸå±æ€§ï¼Œå¦‚æœå‚æ•°nameä¸å­˜åœ¨ï¼Œé‚£ä¹ˆè¯¥æ–¹æ³•ä»€ä¹ˆéƒ½ä¸åš</td>
</tr>
<tr>
<td style="text-align:center">Enumeration getAttributeNames()</td>
<td style="text-align:center">è·å–æ‰€æœ‰åŸŸå±æ€§çš„åç§°</td>
</tr>
</tbody>
</table>
<p><strong>ä¸€ã€pageContext</strong><br>
pageContext æ˜¯Jsp é¡µé¢ä¸­æ‰æœ‰çš„å¯¹è±¡ã€‚</p>
<ul>
<li>ç”Ÿå‘½å‘¨æœŸ<br>
å½“å¯¹JSPè¯·æ±‚æ—¶åˆ›å»ºï¼Œå½“å“åº”ç»“æŸæ—¶é”€æ¯</li>
<li>ä½œç”¨èŒƒå›´<br>
æ•´ä¸ªJSPé¡µé¢ï¼Œæ˜¯å››å¤§åŸŸä¸­æœ€å°çš„ä¸€ä¸ªã€‚</li>
<li>ä½œç”¨<br>
pageContext å¯¹è±¡å°è£…äº†8å¤§éšå¼å¯¹è±¡ï¼Œé€šè¿‡å®ƒå¯ä»¥è·å¾—å…¶å®ƒçš„8ä¸ªå¯¹è±¡</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">æ–¹æ³•</th>
<th style="text-align:center">ä½œç”¨</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">getException()</td>
<td style="text-align:center">è¿”å›Exception</td>
</tr>
<tr>
<td style="text-align:center">getPage()</td>
<td style="text-align:center">è¿”å›Page</td>
</tr>
<tr>
<td style="text-align:center">getRequest()</td>
<td style="text-align:center">è¿”å›request</td>
</tr>
<tr>
<td style="text-align:center">getResponse()</td>
<td style="text-align:center">è¿”å›response</td>
</tr>
<tr>
<td style="text-align:center">getServletConfig()</td>
<td style="text-align:center">è¿”å›config</td>
</tr>
<tr>
<td style="text-align:center">getServletContext()</td>
<td style="text-align:center">è¿”å›application</td>
</tr>
<tr>
<td style="text-align:center">getSession()</td>
<td style="text-align:center">è¿”å›session</td>
</tr>
<tr>
<td style="text-align:center">getOut()</td>
<td style="text-align:center">è¿”å›out</td>
</tr>
</tbody>
</table>
<p><strong>äºŒã€Servletrequest</strong></p>
<ul>
<li>ç”Ÿå‘½å‘¨æœŸ<br>
åœ¨serviceæ–¹æ³•è°ƒç”¨å‰ç”±æœåŠ¡å™¨åˆ›å»ºï¼Œä¼ å…¥service()æ–¹æ³•ï¼Œæ•´ä¸ªè¯·æ±‚ç»“æŸï¼ŒServletRequestç”Ÿå‘½å‘¨æœŸç»“æŸã€‚</li>
<li>ä½œç”¨èŒƒå›´<br>
ä»…åœ¨å½“å‰è¯·æ±‚ä¸­æœ‰æ•ˆï¼Œè¯·æ±‚çš„è½¬å‘ä¹Ÿæ˜¯ä¸€ä¸ªè¯·æ±‚ã€‚</li>
<li>ä½œç”¨<br>
å¸¸ç”¨è¯­æœåŠ¡å™¨é—´åŒä¸€è¯·æ±‚ä¸åŒé¡µé¢ä¹‹é—´çš„å‚æ•°ä¼ é€’ï¼Œå¸¸ç”¨è¯­è¡¨å•çš„æ§ä»¶å€¼ä¼ é€’ã€‚</li>
</ul>
<blockquote>
<p>æ‰©å±•<br>
HttpServletRequest:æ˜¯ServletRequest çš„å­æ¥å£ï¼Œé’ˆå¯¹äºHTTPè¯·æ±‚æ‰€å®šä¹‰ï¼Œé‡Œé¢åŒ…å«äº†å¤§é‡è·å–HTTPè¯·æ±‚ç›¸å…³çš„æ–¹æ³•ã€‚</p>
<ul>
<li>è·å–è¯·æ±‚çš„URL<br>
HttpServletRequest.getRequestURI()</li>
<li>è·å–è¯·æ±‚æ–¹å¼<br>
HttpServletRequest.getMethod()</li>
<li>è‹¥æ˜¯ä¸€ä¸ªgetè¯·æ±‚ï¼Œè·å–è¯·æ±‚å‚æ•°çš„å­—ç¬¦ä¸²ï¼Œè‹¥æ˜¯post è¯·æ±‚ï¼Œåˆ™ç»“æœä¸ºnull<br>
HttpServletRequest.getQueryString</li>
<li>è·å–è¯·æ±‚çš„Servlet æ˜ å°„è·¯å¾„<br>
HttpServletRequest.getServletPath</li>
</ul>
</blockquote>
<p><strong>ä¸‰ã€HttpSession</strong></p>
<ul>
<li>ç”Ÿå‘½å‘¨æœŸ<br>
æœåŠ¡å™¨åœ¨è¿è¡Œæ—¶å¯ä»¥ä¸ºæ¯ä¸€ä¸ªç”¨æˆ·çš„æµè§ˆå™¨åˆ›å»ºä¸€ä¸ªå…¶ç‹¬äº«çš„sessionå¯¹è±¡ï¼Œç”±äºsessionä¸ºç”¨æˆ·æµè§ˆå™¨ç‹¬äº«ï¼Œæ‰€ä»¥ç”¨æˆ·åœ¨è®¿é—®æœåŠ¡å™¨çš„webèµ„æºæ—¶ï¼Œå¯ä»¥æŠŠå„è‡ªçš„æ•°æ®æ”¾åœ¨å„è‡ªçš„sessionä¸­ï¼Œå½“ç”¨æˆ·å†å»è®¿é—®æœåŠ¡å™¨ä¸­çš„å…¶å®ƒwebèµ„æºæ—¶ï¼Œå…¶å®ƒwebèµ„æºå†ä»ç”¨æˆ·å„è‡ªçš„sessionä¸­å–å‡ºæ•°æ®ä¸ºç”¨æˆ·æœåŠ¡ã€‚<br>
åœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨request.getSession()æ–¹æ³•æ—¶ï¼ŒæœåŠ¡å™¨ä¼šæ£€æŸ¥æ˜¯å¦å·²ç»æœ‰å¯¹åº”çš„sessionï¼Œå¦‚æœæ²¡æœ‰å°±åœ¨å†…å­˜ä¸­åˆ›å»ºä¸€ä¸ªå¹¶è¿”å›ã€‚<br>
å½“ä¸€æ®µæ—¶é—´å†…ï¼Œsessionæ²¡æœ‰è¢«ä½¿ç”¨ï¼ˆé»˜è®¤æ˜¯30åˆ†é’Ÿï¼‰ï¼ŒæœåŠ¡å™¨ä¼šé”€æ¯è¯¥sessionã€‚å¦‚æœæœåŠ¡å™¨éæ­£å¸¸å…³é—­ï¼ˆå¼ºè¡Œå…³é—­ï¼‰ï¼Œè¿˜æœªåˆ°æœŸçš„sessionä¹Ÿä¼šè¢«é”€æ¯ã€‚<br>
å¦å¤–ï¼Œè°ƒç”¨sessionçš„invalidate()æ–¹æ³•å¯ä»¥ç«‹å³é”€æ¯sessionã€‚</li>
<li>ä½œç”¨èŒƒå›´<br>
ä¸€æ¬¡ä¼šè¯</li>
<li>ä½œç”¨<br>
å¸¸ç”¨äºwebå¼€å‘ä¸­çš„ç™»å½•éªŒè¯ç•Œé¢ï¼ˆå½“ç”¨æˆ·ç™»é™†æˆåŠŸåæµè§ˆå™¨åˆ†é…å…¶ä¸­ä¸€ä¸ªSessioné”®å€¼å¯¹ï¼‰ã€‚</li>
</ul>
<p><strong>å››ã€ServletContext</strong></p>
<ul>
<li>ç”Ÿå‘½å‘¨æœŸ<br>
å½“webåº”ç”¨è¢«åŠ è¿›å®¹å™¨æ—¶ï¼Œåˆ›å»ºä»£è¡¨æ•´ä¸ªwebåº”ç”¨çš„ServletContextå¯¹è±¡ï¼Œå½“æœåŠ¡å™¨å…³é—­ï¼Œæˆ–webåº”ç”¨è¢«ç§»é™¤æ—¶ï¼ŒServletContextå¯¹è±¡è·Ÿç€è¢«é”€æ¯ã€‚</li>
<li>ä½œç”¨èŒƒå›´<br>
æ•´ä¸ªwebåº”ç”¨</li>
<li>ä½œç”¨
<ul>
<li>ç”±äºä¸€ä¸ªwebåº”ç”¨ä¸­çš„æ‰€æœ‰Servletå…±äº«åŒä¸€ä¸ªServletContextå¯¹è±¡ï¼šå› æ­¤Servletå¯¹è±¡ä¹‹é—´å¯ä»¥é€šè¿‡ServletContextæ¥æ˜¯å®ç°é€šè®¯ã€‚ServletContextå¯¹è±¡é€šå¸¸ä¹Ÿè¢«ç§°ä¸ºcontextåŸŸå¯¹è±¡</li>
<li>è·å–WEBåº”ç”¨ç¨‹åºçš„åˆå§‹åŒ–å‚æ•°<br>
é…ç½®å‚æ•°</li>
</ul>
<pre><code>&lt;!--é…ç½®å½“å‰ web åº”ç”¨çš„åˆå§‹åŒ–å‚æ•°--&gt;
&lt;context-param&gt;
  &lt;param-name&gt;driver&lt;/param-name&gt;
  &lt;param-value&gt;com.mysql.jdbc.driver&lt;/param-value&gt;
&lt;/context-param&gt;


&lt;context-param&gt;
  &lt;param-name&gt;jdbcUrl&lt;/param-name&gt;
  &lt;param-value&gt;jdbc:mysql:///atguigu&lt;/param-value&gt;
&lt;/context-param&gt;
</code></pre>
è·åˆå§‹åŒ–å‚æ•°<pre><code>//è·å–ServletContext å¯¹è±¡
ServletContext context = servletConfig.getServletContext();


String driver = context.getInitParameter(&quot;driver&quot;);
System.out.println(&quot;driver:&quot;+driver);


Enumeration&lt;String&gt; ns = context.getInitParameterNames();
while(ns.hasMoreElements()){
    String name = ns.nextElement();
    System.out.println(&quot;----&gt;&quot;+name);
}
</code></pre>
<ul>
<li>è®°å½•æ—¥å¿—</li>
<li>application åŸŸèŒƒå›´çš„å±æ€§</li>
<li>è®¿é—®èµ„æºæ–‡ä»¶<code>context.getResourceAsStream(&quot;jdbc.properties&quot;)</code></li>
<li>è·å–è™šæ‹Ÿè·¯å¾„æ‰€æ˜ å°„çš„æœ¬åœ°è·¯å¾„<code>getRealPath(&quot;/note.txt&quot;)</code></li>
<li>è·å–å½“å‰WEBåº”ç”¨çš„åç§°<code>getContextPath()</code></li>
<li>WEBåº”ç”¨ç¨‹åºä¹‹é—´çš„è®¿é—®</li>
<li>SerevletContextçš„å…¶å®ƒæ–¹æ³•</li>
</ul>
</li>
</ul>
<h1 id="servlet-çš„è½¬å‘å’Œé‡å®šå‘">Servlet çš„è½¬å‘å’Œé‡å®šå‘</h1>
<p>è¯·æ±‚çš„è½¬å‘å’Œè·³è½¬éƒ½æ˜¯ä¸ºäº†å®ç°é¡µé¢çš„è·³è½¬.</p>
<h3 id="è½¬å‘">è½¬å‘</h3>
<p>å‡è®¾æµè§ˆå™¨è®¿é—®servlet1ï¼Œè€Œservlet1æƒ³è®©servlet2ä¸ºå®¢æˆ·ç«¯æœåŠ¡ã€‚æ­¤æ—¶servlet1è°ƒç”¨forwardï¼ˆï¼‰æ–¹æ³•ï¼Œå°†è¯·æ±‚è½¬å‘ç»™servlet2ã€‚ä½†æ˜¯è°ƒç”¨forward()æ–¹æ³•ï¼Œå¯¹äºæµè§ˆå™¨æ¥è¯´æ˜¯é€æ˜çš„ï¼Œæµè§ˆå™¨å¹¶ä¸çŸ¥é“ä¸ºå…¶æœåŠ¡çš„Servletå·²ç»æ¢æˆServlet2ï¼Œå®ƒåªçŸ¥é“å‘å‡ºäº†ä¸€ä¸ªè¯·æ±‚ï¼Œè·å¾—äº†ä¸€ä¸ªå“åº”ã€‚æµè§ˆå™¨URLçš„åœ°å€æ ä¸å˜ã€‚<br>
è½¬å‘çš„å¯¹è±¡æ˜¯RequestDispatcher,æœ‰ä¸¤ç§æ–¹å¼å¯ä»¥è·å–åˆ°è¿™ä¸ªå¯¹è±¡</p>
<ul>
<li>HttpservletRequestçš„getRequestDispatcher()</li>
<li>ServletContext çš„getRequestDispatcher()</li>
</ul>
<pre><code>//1.è°ƒç”¨HttpServletRequest çš„getRequestDispatcher()è·å–RequestDispatcher å¯¹è±¡
//è°ƒç”¨getRequestDispatcher()æƒ³è¦ä¼ å…¥è¦è½¬å‘çš„åœ°å€
String path = &quot;testServlet1&quot;;
RequestDispatcher requestDispatcher = req.getRequestDispatcher(&quot;/&quot; + path);
//2.è°ƒç”¨HttpServletRequest çš„forward(request,response)è¿›è¡Œè¯·æ±‚çš„è½¬å‘
requestDispatcher.forward(req,resp);
</code></pre>
<h3 id="é‡å®šå‘">é‡å®šå‘</h3>
<p>æµè§ˆå™¨è®¿é—®servlet1,è€Œservlet1 æƒ³è®©servlet2 ä¸ºå®¢æˆ·ç«¯æœåŠ¡ï¼Œæ­¤æ—¶servlet1 è°ƒç”¨sendRedirect()å°†è¯·æ±‚é‡å®šå‘åˆ°Servlet2.æ¥ç€æµè§ˆå™¨è®¿é—®servlet2,servlet2 å¯¹å®¢æˆ·æ®µè¯·æ±‚åšå‡ºååº”ï¼Œæµè§ˆå™¨çš„URLåœ°å€æ”¹å˜</p>
<pre><code>//æ‰§è¡Œè¯·æ±‚çš„é‡å®šå‘ï¼Œç›´æ¥è°ƒç”¨response.sendRedirect(path)æ–¹æ³•
//path ä¸ºè¦é‡å®šå‘çš„åœ°å€
String path = &quot;testServlet1&quot;;
resp.sendRedirect(path);
</code></pre>
<h3 id="è½¬å‘å’Œé‡å®šå‘çš„åŒºåˆ«">è½¬å‘å’Œé‡å®šå‘çš„åŒºåˆ«</h3>
<p><strong>æœ¬è´¨åŒºåˆ«</strong><br>
è¯·æ±‚çš„è½¬å‘æ˜¯åªå‘å‡ºäº†ä¸€æ¬¡è¯·æ±‚ï¼Œè€Œé‡å®šå‘åˆ™å‘å‡ºäº†ä¸¤æ¬¡è¯·æ±‚ã€‚</p>
<p><strong>å…·ä½“åŒºåˆ«</strong><br>
è¯·æ±‚è½¬å‘:åœ°å€æ æ˜¯åˆæ¬¡å‘å‡ºè¯·æ±‚çš„åœ°å€<br>
è¯·æ±‚é‡å®šå‘ï¼šåœ°å€æ ä¸å†æ˜¯åˆæ¬¡å‘å‡ºçš„è¯·æ±‚åœ°å€åœ°å€æ ä¸ºæœ€åå“åº”çš„é‚£ä¸ªåœ°å€</p>
<p>è¯·æ±‚è½¬å‘ï¼šåœ¨æœ€ç»ˆçš„Servlet ä¸­ï¼Œrequest å¯¹è±¡å’Œä¸­è½¬çš„é‚£ä¸ªrequest æ˜¯åŒä¸€ä¸ªå¯¹è±¡<br>
è¯·æ±‚é‡å®šå‘ï¼šåœ¨æœ€ç»ˆçš„Servlet ä¸­ï¼Œrequest å¯¹è±¡å’Œä¸­è½¬çš„é‚£ä¸ªrequest ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡</p>
<p>è¯·æ±‚è½¬å‘ï¼šåªèƒ½è½¬å‘ç»™å½“å‰WEBåº”ç”¨çš„èµ„æº<br>
è¯·æ±‚é‡å®šå‘ï¼šå¯ä»¥é‡å®šå‘åˆ°ä»»ä½•èµ„æº</p>
<p>è¯·æ±‚è½¬å‘ï¼š/ä»£è¡¨çš„æ˜¯å½“å‰WEBåº”ç”¨çš„æ ¹ç›®å½•   <code>http://localhost:8080/project/</code><br>
è¯·æ±‚é‡å®šå‘ï¼š/ä»£è¡¨çš„æ˜¯å½“å‰WEBç«™ç‚¹çš„æ ¹ç›®å½•<code>http://localhost:8080/</code></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ç¬¬ä¸€ä¸ªåšå®¢]]></title>
        <id>https://jm0820.github.io/post/di-yi-ge-bo-ke/</id>
        <link href="https://jm0820.github.io/post/di-yi-ge-bo-ke/">
        </link>
        <updated>2020-03-18T06:41:06.000Z</updated>
        <content type="html"><![CDATA[<h3 id="hello-world">Hello World</h3>
<h3 id="å°ç‹åŒå­¦æ­£åœ¨è¯•è¯•æä¸€ä¸ªå±äºè‡ªå·±çš„åšå®¢">å°ç‹åŒå­¦æ­£åœ¨è¯•è¯•æä¸€ä¸ªå±äºè‡ªå·±çš„åšå®¢</h3>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Hello Gridea]]></title>
        <id>https://jm0820.github.io/post/hello-gridea/</id>
        <link href="https://jm0820.github.io/post/hello-gridea/">
        </link>
        <updated>2018-12-11T16:00:00.000Z</updated>
        <summary type="html"><![CDATA[<p>ğŸ‘  æ¬¢è¿ä½¿ç”¨ <strong>Gridea</strong> ï¼<br>
âœï¸  <strong>Gridea</strong> ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥è®°å½•ä½ çš„ç”Ÿæ´»ã€å¿ƒæƒ…ã€çŸ¥è¯†ã€ç¬”è®°ã€åˆ›æ„... ...</p>
]]></summary>
        <content type="html"><![CDATA[<p>ğŸ‘  æ¬¢è¿ä½¿ç”¨ <strong>Gridea</strong> ï¼<br>
âœï¸  <strong>Gridea</strong> ä¸€ä¸ªé™æ€åšå®¢å†™ä½œå®¢æˆ·ç«¯ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥è®°å½•ä½ çš„ç”Ÿæ´»ã€å¿ƒæƒ…ã€çŸ¥è¯†ã€ç¬”è®°ã€åˆ›æ„... ...</p>
<!-- more -->
<p><a href="https://github.com/getgridea/gridea">Github</a><br>
<a href="https://gridea.dev/">Gridea ä¸»é¡µ</a><br>
<a href="http://fehey.com/">ç¤ºä¾‹ç½‘ç«™</a></p>
<h2 id="ç‰¹æ€§">ç‰¹æ€§ğŸ‘‡</h2>
<p>ğŸ“  ä½ å¯ä»¥ä½¿ç”¨æœ€é…·çš„ <strong>Markdown</strong> è¯­æ³•ï¼Œè¿›è¡Œå¿«é€Ÿåˆ›ä½œ</p>
<p>ğŸŒ‰  ä½ å¯ä»¥ç»™æ–‡ç« é…ä¸Šç²¾ç¾çš„å°é¢å›¾å’Œåœ¨æ–‡ç« ä»»æ„ä½ç½®æ’å…¥å›¾ç‰‡</p>
<p>ğŸ·ï¸  ä½ å¯ä»¥å¯¹æ–‡ç« è¿›è¡Œæ ‡ç­¾åˆ†ç»„</p>
<p>ğŸ“‹  ä½ å¯ä»¥è‡ªå®šä¹‰èœå•ï¼Œç”šè‡³å¯ä»¥åˆ›å»ºå¤–éƒ¨é“¾æ¥èœå•</p>
<p>ğŸ’»  ä½ å¯ä»¥åœ¨ <strong>Windows</strong>ï¼Œ<strong>MacOS</strong> æˆ– <strong>Linux</strong> è®¾å¤‡ä¸Šä½¿ç”¨æ­¤å®¢æˆ·ç«¯</p>
<p>ğŸŒ  ä½ å¯ä»¥ä½¿ç”¨ <strong>ğ–¦ğ—‚ğ—ğ—ğ—ğ–» ğ–¯ğ–ºğ—€ğ–¾ğ—Œ</strong> æˆ– <strong>Coding Pages</strong> å‘ä¸–ç•Œå±•ç¤ºï¼Œæœªæ¥å°†æ”¯æŒæ›´å¤šå¹³å°</p>
<p>ğŸ’¬  ä½ å¯ä»¥è¿›è¡Œç®€å•çš„é…ç½®ï¼Œæ¥å…¥ <a href="https://github.com/gitalk/gitalk">Gitalk</a> æˆ– <a href="https://github.com/SukkaW/DisqusJS">DisqusJS</a> è¯„è®ºç³»ç»Ÿ</p>
<p>ğŸ‡¬ğŸ‡§  ä½ å¯ä»¥ä½¿ç”¨<strong>ä¸­æ–‡ç®€ä½“</strong>æˆ–<strong>è‹±è¯­</strong></p>
<p>ğŸŒ  ä½ å¯ä»¥ä»»æ„ä½¿ç”¨åº”ç”¨å†…é»˜è®¤ä¸»é¢˜æˆ–ä»»æ„ç¬¬ä¸‰æ–¹ä¸»é¢˜ï¼Œå¼ºå¤§çš„ä¸»é¢˜è‡ªå®šä¹‰èƒ½åŠ›</p>
<p>ğŸ–¥  ä½ å¯ä»¥è‡ªå®šä¹‰æºæ–‡ä»¶å¤¹ï¼Œåˆ©ç”¨ OneDriveã€ç™¾åº¦ç½‘ç›˜ã€iCloudã€Dropbox ç­‰è¿›è¡Œå¤šè®¾å¤‡åŒæ­¥</p>
<p>ğŸŒ± å½“ç„¶ <strong>Gridea</strong> è¿˜å¾ˆå¹´è½»ï¼Œæœ‰å¾ˆå¤šä¸è¶³ï¼Œä½†è¯·ç›¸ä¿¡ï¼Œå®ƒä¼šä¸åœå‘å‰ ğŸƒ</p>
<p>æœªæ¥ï¼Œå®ƒä¸€å®šä¼šæˆä¸ºä½ ç¦»ä¸å¼€çš„ä¼™ä¼´</p>
<p>å°½æƒ…å‘æŒ¥ä½ çš„æ‰åå§ï¼</p>
<p>ğŸ˜˜ Enjoy~</p>
]]></content>
    </entry>
</feed>